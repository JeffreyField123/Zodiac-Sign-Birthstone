<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zodiac Compatibility and Birthstones</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <header>
        Zodiac Digital Services and Birthstones
    </header>
    <div class="container">
        <div class="image-container">
            <img src="{{ url_for('static', filename='images/zodiac.jpg') }}" alt="Zodiac Signs">
        </div>
        <form id="compatibilityForm" action="/result" method="post" onsubmit="return validateForm()">
            <div class="person-info">
                <h2>Person 1</h2>
                <label for="day1">Birth Day:</label>
                <input type="number" id="day1" name="day1" required>
                <label for="month1">Birth Month:</label>
                <input type="number" id="month1" name="month1" required>
            </div>

            <div class="person-info">
                <h2>Person 2</h2>
                <label for="day2">Birth Day:</label>
                <input type="number" id="day2" name="day2" required>
                <label for="month2">Birth Month:</label>
                <input type="number" id="month2" name="month2" required>
            </div>

            <div class="form-action">
                <input type="submit" value="Check Compatibility">
            </div>
        </form>
    </div>

    <script>
        function validateForm() {
            const day1 = document.getElementById('day1').value;
            const month1 = document.getElementById('month1').value;
            const day2 = document.getElementById('day2').value;
            const month2 = document.getElementById('month2').value;

            if (!isValidDate(day1, month1) || !isValidDate(day2, month2)) {
                alert('Please enter valid dates.');
                return false;
            }

            return true;
        }

        function isValidDate(day, month) {
            if (month < 1 || month > 12) return false;
            if (day < 1 || day > 31) return false;
            if ((month == 4 || month == 6 || month == 9 || month == 11) && day > 30) return false;
            if (month == 2) {
                const isLeapYear = (new Date().getFullYear() % 4 === 0);
                if (day > (isLeapYear ? 29 : 28)) return false;
            }
            return true;
        }
    </script>
</body>
</html>
